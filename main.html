<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      body {
        background: transparent;
        overflow: hidden;
      }
    </style>
    <script src="./dist/svgmotion.web.js"></script>
    <script type="module">
      // let root = svgmotion.root();
      // let rect = root.add_rect();
      // let svg = root.as_svg(document);
      // console.log(Object.entries(rect));
      // document.body.appendChild(svg);
      // root.update_node(0);
      const { Size, animate, NumberValue, Track, To, Seq, Par } = svgmotion;

      let root = svgmotion.root();
      let r = root.add_rect();
      console.info(animate);
      // r.size.set_value(0, new Size(50, 50));
      // r.size.set_value(50, new Size(50, 100));
      r.opacity = new NumberValue(0.9);
      // r.opacity.set_value(0, 0);
      // r.opacity.set_value(10, 1);
      // r.opacity.set_value(20, 0.75);
      // r.opacity.set_value(30, 0.25);
      // r.opacity.set_value(50, 0.5);
      let tr = new Track();

      tr.feed(
        Par(
          Seq(
            To([r.size], new Size(50, 50)),
            To([r.size], new Size(100, 100)),
            To([r.size], new Size(10, 10))
          ),
          Seq(
            To([r.opacity], 0.25),
            To([r.opacity], 0.9),
            To([r.opacity], 0.25)
          )
        )
      );

      console.log(`opacity [${r.opacity.get_value(0)}]`);
      let svg = root.as_svg(document);
      document.body.appendChild(svg);

      animate(root, 60);
    </script>
  </head>
  <body></body>
</html>
