<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <style>
            * {
                box-sizing: border-box;
                margin: 0;
                padding: 0;
            }
            body {
                background: transparent;
                overflow: hidden;
            }
        </style>
        <script src="./dist/svgmotion.web.js"></script>
        <script type="module">
            const {
                Size,
                animate,
                OpacityProp,
                VectorValue,
                Track,
                To,
                Seq,
                Par,
                Rel,
                Doc,
            } = svgmotion;

            const doc = new Doc();
            const { viewport } = doc;

            let r = viewport.add_rect();
            // console.info(animate);
            r.position = new VectorValue([10, 10]);
            let tr = new Track();
            let X = r.opacity;
            let B = r.position;
            let C = r.fill.color;
            let R = r.transform.rotation;
            tr.run(
                Par([
                    Seq([
                        To([r.size], new Size(50, 50)),
                        To([r.size], new Size(100, 100)),
                        To([r.size], new Size(10, 10)),
                    ]),
                    Rel(0)
                        .to(A, 0.25)
                        .to(B, [50, 50])
                        .to(C, [0.9, 0.1, 0.9])
                        .to(R, 0)
                        .d(1)
                        .to(A, 0.9)
                        .to(B, [0, 50])
                        .to(C, [1, 1, 0])
                        .to(R, 10)
                        .d(1)
                        .to(A, 0.25)
                        .to(B, [50, 0])
                        .to(C, [0, 1, 0])
                        .to(R, -5)
                        .d(1)
                        .to(A, 0.9)
                        .to(B, [0, 0])
                        .to(C, [0, 0, 0])
                        .to(R, 5)
                        .d(1)
                        .to(A, 0.25)
                        .first(B)
                        .to(C, [0.5, 0.5, 0.5])
                        .to(R, 0),
                ])
            );
            console.log(doc);

            doc.animate({ parent: document.body });
        </script>
    </head>
    <body></body>
</html>
